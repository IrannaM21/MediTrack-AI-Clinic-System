@model OnlineClinicApplication.Models.Patient

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Patient Login";
}

<style>
    body {
        background: linear-gradient(135deg, #cce0ff, #99ccff);
        font-family: 'Poppins', sans-serif;
    }

    .login-card {
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0, 102, 204, 0.15);
        overflow: hidden;
    }

    .login-header {
        background: linear-gradient(90deg, #0066cc, #3399ff);
        color: #fff;
        padding: 25px 15px;
        text-align: center;
    }

        .login-header h2 {
            font-weight: 700;
            font-size: 1.8rem;
        }

    .login-card .form-control:focus {
        border-color: #0066cc;
        box-shadow: 0 0 8px rgba(0,102,204,0.5);
    }

    .btn-login {
        background-color: #0066cc;
        border: none;
        font-weight: 600;
        color: white;
        transition: 0.3s;
    }

        .btn-login:hover {
            background-color: #0052a3;
        }

    .card-body {
        background-color: #ffffff;
        padding: 30px;
    }

    .text-muted a {
        text-decoration: none;
        color: #0066cc;
        font-weight: 500;
    }

        .text-muted a:hover {
            color: #3399ff;
        }

    /* Hide the empty validation summary (the “one-line box”) when there are no errors */
    .validation-summary-valid {
        display: none;
    }
</style>

<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-lg-5 col-md-7">
            <div class="card login-card shadow-lg rounded-4">
                <div class="login-header">
                    <h2><i class="bi bi-person-circle"></i> Patient Login</h2>
                    <p class="mb-0">Enter your credentials to access dashboard</p>
                </div>

                <div class="card-body">
                    @if (TempData["SuccessMessage"] != null)
                    {
                        <div class="alert alert-success text-center">@TempData["SuccessMessage"]</div>
                    }

                    @if (TempData["ErrorMessage"] != null)
                    {
                        <div class="alert alert-danger text-center">@TempData["ErrorMessage"]</div>
                    }

                    @if (ViewBag.ErrorMessage != null)
                    {
                        <div class="alert alert-danger text-center">@ViewBag.ErrorMessage</div>
                    }

                    @* Only render summary if there are server-side model errors (optional).
                        With simple inputs below, you likely won't need this at all. *@
                    @if (!ViewData.ModelState.IsValid)
                    {
                        @Html.ValidationSummary(false, "", new { @class = "alert alert-danger" })
                    }

                    @using (Html.BeginForm("Login", "Patient", FormMethod.Post, new { autocomplete = "on" }))
                    {
                        @Html.AntiForgeryToken()

                        <div class="mb-3">
                            @Html.Label("Email", "Email", new { @class = "form-label" })
                            @Html.TextBox("Email", null, new
                            {
                                @class = "form-control",
                                placeholder = "Email",
                                type = "email",
                                inputmode = "email",
                                autocomplete = "username",
                                required = "required"
                            })
                        </div>

                        <div class="mb-3">
                            @Html.Label("Password", "Password", new { @class = "form-label" })
                            @Html.Password("Password", null, new
                            {
                                @class = "form-control",
                                placeholder = "Password",
                                autocomplete = "current-password",
                                required = "required"
                            })
                        </div>

                        <button type="submit" class="btn btn-login w-100 rounded-3">Login</button>

                        <p class="text-center mt-3 text-muted">
                            Forgot password? <a href="@Url.Action("ForgotPassword", "Patient")">Click here</a>
                        </p>

                        <p class="text-center mt-1 text-muted">
                            Don't have an account? <a href="@Url.Action("Register","Patient")">Register here</a>
                        </p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">